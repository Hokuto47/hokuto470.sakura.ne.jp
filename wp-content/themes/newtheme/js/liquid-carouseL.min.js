/*! @license liquid-carousel.js ver.0.1.0 Copyright(c) 2016 IMJ Co., Ltd. */
!function(t, e) {
    "object" == typeof exports && "object" == typeof module ? module.exports = e() : "function" == typeof define && define.amd ? define([], e) : "object" == typeof exports ? exports.liquidCarousel = e() : t.liquidCarousel = e()
}(this, function() {
    return function(t) {
        function e(r) {
            if (n[r])
                return n[r].exports;
            var i = n[r] = {
                exports: {},
                id: r,
                loaded: !1
            };
            return t[r].call(i.exports, i, i.exports, e),
            i.loaded = !0,
            i.exports
        }
        var n = {};
        return e.m = t,
        e.c = n,
        e.p = "",
        e(0)
    }([function(t, e, n) {
        "use strict";
        function r(t) {
            var e = this
              , n = t.apply
              , r = t.autoRefresh
              , i = t.flipsnapOptions
              , o = t.margins
              , s = t.selectors
              , a = t.viewCount;
            this.selectors = s,
            this.flipsnapOptions = i || {},
            this.frameElement = document.querySelector(s.frameElement),
            this.innerElement = document.querySelector(s.innerElement),
            this.viewCount = a,
            this.itemCount = this.innerElement.children.length,
            this.marginLeft = o.left,
            this.marginRight = o.right,
            this.flipsnap = null,
            n && this.apply(),
            r && !function() {
                var t = e
                  , n = function() {
                    t.apply()
                };
                f(window, "resize", n, !1),
                f(window, "orientationchange", n, !1)
            }()
        }
        function i() {
            window.liquidCarousel = {
                instances: {}
            },
            window.postMessage(JSON.stringify({
                name: "liquid-carousel",
                event: "load"
            }), v);
            var t = document.querySelectorAll('script[type="application/json"][data-liquid-carousel-json]')
              , e = void 0
              , n = void 0;
            for (e = 0,
            n = t.length; e < n; ++e) {
                var i = JSON.parse(t[e].innerHTML)
                  , o = i.instanceVariableName
                  , s = void 0 === o ? l("liquidCarousel") : o;
                window.liquidCarousel.instances[s] = new r(i)
            }
            window.postMessage(JSON.stringify({
                name: "liquid-carousel",
                event: "loaded"
            }), v)
        }
        var o = n(3)
          , s = o.EventEmitter
          , a = n(1)
          , u = n(4)
          , c = n(5)
          , l = n(7)
          , h = n(2)
          , f = h.on
          , v = n(6).get();
        c(r, s),
        r.prototype.apply = function() {
            var t = this.frameElement.clientWidth
              , e = this.viewCount
              , n = void 0
              , r = void 0;
            n = /%$/.test(this.marginLeft) ? t / 100 * parseFloat(this.marginLeft) : parseFloat(this.marginLeft),
            r = /%$/.test(this.marginRight) ? t / 100 * parseFloat(this.marginRight) : parseFloat(this.marginRight),
            isNaN(n) && (n = 0),
            isNaN(r) && (r = 0);
            var i = t / e
              , o = i - n - r
              , s = this.innerElement.children
              , a = void 0
              , c = void 0;
            for (a = 0,
            c = s.length; a < c; ++a)
                s[a].style.marginLeft = n + "px",
                s[a].style.marginRight = r + "px",
                s[a].style.width = o + "px";
            var l = [o, n, r].map(function(t) {
                return t
            }).reduce(function(t, e) {
                return t + e
            });
            this.innerElement.style.width = l * s.length + "px",
            null === this.flipsnap ? this.flipsnap = new u(this.innerElement,this.flipsnapOptions) : this.flipsnap.refresh()
        }
        ,
        a(i)
    }
    , function(t, e, n) {
        /*!
	  * domready (c) Dustin Diaz 2014 - License MIT
	  */
        !function(e, n) {
            t.exports = n()
        }("domready", function() {
            var t, e = [], n = document, r = n.documentElement.doScroll, i = "DOMContentLoaded", o = (r ? /^loaded|^c/ : /^loaded|^i|^c/).test(n.readyState);
            return o || n.addEventListener(i, t = function() {
                for (n.removeEventListener(i, t),
                o = 1; t = e.shift(); )
                    t()
            }
            ),
            function(t) {
                o ? setTimeout(t, 0) : e.push(t)
            }
        })
    }
    , function(t, e) {
        "use strict";
        function n(t, e, n, o) {
            var s = function() {
                switch (r(t, e, s, o),
                arguments.length) {
                case 0:
                    return n.call(this);
                case 1:
                    return n.call(this, arguments[0]);
                case 2:
                    return n.call(this, arguments[0], arguments[1]);
                case 3:
                    return n.call(this, arguments[0], arguments[1], arguments[2]);
                default:
                    return n.apply(this, arguments)
                }
            };
            return i(t, e, s, o)
        }
        var r = "undefined" != typeof removeEventListener ? function(t, e, n, r) {
            return t.removeEventListener(e, n, r)
        }
        : function(t, e, n) {
            return t.detachEvent("on" + e, n)
        }
          , i = "undefined" != typeof addEventListener ? function(t, e, n, r) {
            return t.addEventListener(e, n, r)
        }
        : function(t, e, n) {
            return t.attachEvent("on" + e, n)
        }
        ;
        t.exports = {
            off: r,
            on: i,
            once: n
        }
    }
    , function(t, e) {
        function n() {
            this._events = this._events || {},
            this._maxListeners = this._maxListeners || void 0
        }
        function r(t) {
            return "function" == typeof t
        }
        function i(t) {
            return "number" == typeof t
        }
        function o(t) {
            return "object" == typeof t && null !== t
        }
        function s(t) {
            return void 0 === t
        }
        t.exports = n,
        n.EventEmitter = n,
        n.prototype._events = void 0,
        n.prototype._maxListeners = void 0,
        n.defaultMaxListeners = 10,
        n.prototype.setMaxListeners = function(t) {
            if (!i(t) || t < 0 || isNaN(t))
                throw TypeError("n must be a positive number");
            return this._maxListeners = t,
            this
        }
        ,
        n.prototype.emit = function(t) {
            var e, n, i, a, u, c;
            if (this._events || (this._events = {}),
            "error" === t && (!this._events.error || o(this._events.error) && !this._events.error.length)) {
                if (e = arguments[1],
                e instanceof Error)
                    throw e;
                var l = new Error('Uncaught, unspecified "error" event. (' + e + ")");
                throw l.context = e,
                l
            }
            if (n = this._events[t],
            s(n))
                return !1;
            if (r(n))
                switch (arguments.length) {
                case 1:
                    n.call(this);
                    break;
                case 2:
                    n.call(this, arguments[1]);
                    break;
                case 3:
                    n.call(this, arguments[1], arguments[2]);
                    break;
                default:
                    a = Array.prototype.slice.call(arguments, 1),
                    n.apply(this, a)
                }
            else if (o(n))
                for (a = Array.prototype.slice.call(arguments, 1),
                c = n.slice(),
                i = c.length,
                u = 0; u < i; u++)
                    c[u].apply(this, a);
            return !0
        }
        ,
        n.prototype.addListener = function(t, e) {
            var i;
            if (!r(e))
                throw TypeError("listener must be a function");
            return this._events || (this._events = {}),
            this._events.newListener && this.emit("newListener", t, r(e.listener) ? e.listener : e),
            this._events[t] ? o(this._events[t]) ? this._events[t].push(e) : this._events[t] = [this._events[t], e] : this._events[t] = e,
            o(this._events[t]) && !this._events[t].warned && (i = s(this._maxListeners) ? n.defaultMaxListeners : this._maxListeners,
            i && i > 0 && this._events[t].length > i && (this._events[t].warned = !0,
            console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.", this._events[t].length),
            "function" == typeof console.trace && console.trace())),
            this
        }
        ,
        n.prototype.on = n.prototype.addListener,
        n.prototype.once = function(t, e) {
            function n() {
                this.removeListener(t, n),
                i || (i = !0,
                e.apply(this, arguments))
            }
            if (!r(e))
                throw TypeError("listener must be a function");
            var i = !1;
            return n.listener = e,
            this.on(t, n),
            this
        }
        ,
        n.prototype.removeListener = function(t, e) {
            var n, i, s, a;
            if (!r(e))
                throw TypeError("listener must be a function");
            if (!this._events || !this._events[t])
                return this;
            if (n = this._events[t],
            s = n.length,
            i = -1,
            n === e || r(n.listener) && n.listener === e)
                delete this._events[t],
                this._events.removeListener && this.emit("removeListener", t, e);
            else if (o(n)) {
                for (a = s; a-- > 0; )
                    if (n[a] === e || n[a].listener && n[a].listener === e) {
                        i = a;
                        break
                    }
                if (i < 0)
                    return this;
                1 === n.length ? (n.length = 0,
                delete this._events[t]) : n.splice(i, 1),
                this._events.removeListener && this.emit("removeListener", t, e)
            }
            return this
        }
        ,
        n.prototype.removeAllListeners = function(t) {
            var e, n;
            if (!this._events)
                return this;
            if (!this._events.removeListener)
                return 0 === arguments.length ? this._events = {} : this._events[t] && delete this._events[t],
                this;
            if (0 === arguments.length) {
                for (e in this._events)
                    "removeListener" !== e && this.removeAllListeners(e);
                return this.removeAllListeners("removeListener"),
                this._events = {},
                this
            }
            if (n = this._events[t],
            r(n))
                this.removeListener(t, n);
            else if (n)
                for (; n.length; )
                    this.removeListener(t, n[n.length - 1]);
            return delete this._events[t],
            this
        }
        ,
        n.prototype.listeners = function(t) {
            var e;
            return e = this._events && this._events[t] ? r(this._events[t]) ? [this._events[t]] : this._events[t].slice() : []
        }
        ,
        n.prototype.listenerCount = function(t) {
            if (this._events) {
                var e = this._events[t];
                if (r(e))
                    return 1;
                if (e)
                    return e.length
            }
            return 0
        }
        ,
        n.listenerCount = function(t, e) {
            return t.listenerCount(e)
        }
    }
    , function(t, e, n) {
        var r, i, o;
        !function(n, s) {
            i = [],
            r = s,
            o = "function" == typeof r ? r.apply(e, i) : r,
            !(void 0 !== o && (t.exports = o))
        }(this, function() {
            function t(e, n) {
                return this instanceof t ? this.init(e, n) : new t(e,n)
            }
            function e(t, e) {
                return t.changedTouches ? t.changedTouches[0][e] : t[e]
            }
            function n(t) {
                return s(t, function(t) {
                    return void 0 !== c.style[t]
                })
            }
            function r(t, e, n) {
                var r = h[e];
                r ? t[r] = n : void 0 !== t[e] ? (h[e] = e,
                t[e] = n) : s(l, function(r) {
                    var i = o(r) + o(e);
                    if (void 0 !== t[i])
                        return h[e] = i,
                        t[i] = n,
                        !0
                })
            }
            function i(t) {
                if (void 0 !== c.style[t])
                    return t;
                var e;
                return s(l, function(n) {
                    var r = o(n) + o(t);
                    if (void 0 !== c.style[r])
                        return e = "-" + n + "-" + t,
                        !0
                }),
                e
            }
            function o(t) {
                return t.charAt(0).toUpperCase() + t.substr(1)
            }
            function s(t, e) {
                for (var n = 0, r = t.length; n < r; n++)
                    if (e(t[n], n))
                        return !0;
                return !1
            }
            function a(t, e, n, r) {
                var i = Math.abs(t - n)
                  , o = Math.abs(e - r)
                  , s = Math.sqrt(Math.pow(i, 2) + Math.pow(o, 2));
                return {
                    x: i,
                    y: o,
                    z: s
                }
            }
            function u(t) {
                var e = t.y / t.z
                  , n = Math.acos(e);
                return 180 / (Math.PI / n)
            }
            var c = document.createElement("div")
              , l = ["webkit", "moz", "o", "ms"]
              , h = {}
              , f = t.support = {}
              , v = !1
              , p = 5
              , d = 55;
            f.transform3d = n(["perspectiveProperty", "WebkitPerspective", "MozPerspective", "OPerspective", "msPerspective"]),
            f.transform = n(["transformProperty", "WebkitTransform", "MozTransform", "OTransform", "msTransform"]),
            f.transition = n(["transitionProperty", "WebkitTransitionProperty", "MozTransitionProperty", "OTransitionProperty", "msTransitionProperty"]),
            f.addEventListener = "addEventListener"in window,
            f.mspointer = window.navigator.msPointerEnabled,
            f.cssAnimation = (f.transform3d || f.transform) && f.transition;
            var m = ["touch", "mouse"]
              , y = {
                start: {
                    touch: "touchstart",
                    mouse: "mousedown"
                },
                move: {
                    touch: "touchmove",
                    mouse: "mousemove"
                },
                end: {
                    touch: "touchend",
                    mouse: "mouseup"
                }
            };
            return f.addEventListener && (document.addEventListener("gesturestart", function() {
                v = !0
            }),
            document.addEventListener("gestureend", function() {
                v = !1
            })),
            t.prototype.init = function(t, e) {
                var n = this;
                if (n.element = t,
                "string" == typeof t && (n.element = document.querySelector(t)),
                !n.element)
                    throw new Error("element not found");
                return f.mspointer && (n.element.style.msTouchAction = "pan-y"),
                e = e || {},
                n.distance = e.distance,
                n.maxPoint = e.maxPoint,
                n.disableTouch = void 0 !== e.disableTouch && e.disableTouch,
                n.disable3d = void 0 !== e.disable3d && e.disable3d,
                n.transitionDuration = void 0 === e.transitionDuration ? "350ms" : e.transitionDuration + "ms",
                n.threshold = e.threshold || 0,
                n.currentPoint = 0,
                n.currentX = 0,
                n.animation = !1,
                n.timerId = null,
                n.use3d = f.transform3d,
                n.disable3d === !0 && (n.use3d = !1),
                f.cssAnimation ? n._setStyle({
                    transitionProperty: i("transform"),
                    transitionTimingFunction: "cubic-bezier(0,0,0.25,1)",
                    transitionDuration: "0ms",
                    transform: n._getTranslate(0)
                }) : n._setStyle({
                    position: "relative",
                    left: "0px"
                }),
                n.refresh(),
                m.forEach(function(t) {
                    n.element.addEventListener(y.start[t], n, !1)
                }),
                n
            }
            ,
            t.prototype.handleEvent = function(t) {
                var e = this;
                switch (t.type) {
                case y.start.touch:
                    e._touchStart(t, "touch");
                    break;
                case y.start.mouse:
                    e._touchStart(t, "mouse");
                    break;
                case y.move.touch:
                    e._touchMove(t, "touch");
                    break;
                case y.move.mouse:
                    e._touchMove(t, "mouse");
                    break;
                case y.end.touch:
                    e._touchEnd(t, "touch");
                    break;
                case y.end.mouse:
                    e._touchEnd(t, "mouse");
                    break;
                case "click":
                    e._click(t)
                }
            }
            ,
            t.prototype.refresh = function() {
                var t = this;
                t._maxPoint = void 0 === t.maxPoint ? function() {
                    for (var e, n = t.element.childNodes, r = -1, i = 0, o = n.length; i < o; i++)
                        e = n[i],
                        1 === e.nodeType && r++;
                    return r
                }() : t.maxPoint,
                void 0 === t.distance ? t._maxPoint < 0 ? t._distance = 0 : t._distance = t.element.scrollWidth / (t._maxPoint + 1) : t._distance = t.distance,
                t._maxX = -t._distance * t._maxPoint,
                t.moveToPoint()
            }
            ,
            t.prototype.hasNext = function() {
                var t = this;
                return t.currentPoint < t._maxPoint
            }
            ,
            t.prototype.hasPrev = function() {
                var t = this;
                return t.currentPoint > 0
            }
            ,
            t.prototype.toNext = function(t) {
                var e = this;
                e.hasNext() && e.moveToPoint(e.currentPoint + 1, t)
            }
            ,
            t.prototype.toPrev = function(t) {
                var e = this;
                e.hasPrev() && e.moveToPoint(e.currentPoint - 1, t)
            }
            ,
            t.prototype.moveToPoint = function(t, e) {
                var n = this;
                e = void 0 === e ? n.transitionDuration : e + "ms";
                var r = n.currentPoint;
                void 0 === t && (t = n.currentPoint),
                t < 0 ? n.currentPoint = 0 : t > n._maxPoint ? n.currentPoint = n._maxPoint : n.currentPoint = parseInt(t, 10),
                f.cssAnimation ? n._setStyle({
                    transitionDuration: e
                }) : n.animation = !0,
                n._setX(-n.currentPoint * n._distance, e),
                r !== n.currentPoint && (n._triggerEvent("fsmoveend", !0, !1),
                n._triggerEvent("fspointmove", !0, !1))
            }
            ,
            t.prototype._setX = function(t, e) {
                var n = this;
                n.currentX = t,
                f.cssAnimation ? n.element.style[h.transform] = n._getTranslate(t) : n.animation ? n._animate(t, e || n.transitionDuration) : n.element.style.left = t + "px"
            }
            ,
            t.prototype._touchStart = function(t, n) {
                var r = this;
                if (!(r.disableTouch || r.scrolling || v)) {
                    r.element.addEventListener(y.move[n], r, !1),
                    document.addEventListener(y.end[n], r, !1);
                    var i = t.target.tagName;
                    "mouse" === n && "SELECT" !== i && "INPUT" !== i && "TEXTAREA" !== i && "BUTTON" !== i && t.preventDefault(),
                    f.cssAnimation ? r._setStyle({
                        transitionDuration: "0ms"
                    }) : r.animation = !1,
                    r.scrolling = !0,
                    r.moveReady = !1,
                    r.startPageX = e(t, "pageX"),
                    r.startPageY = e(t, "pageY"),
                    r.basePageX = r.startPageX,
                    r.directionX = 0,
                    r.startTime = t.timeStamp,
                    r._triggerEvent("fstouchstart", !0, !1)
                }
            }
            ,
            t.prototype._touchMove = function(t, n) {
                var r = this;
                if (r.scrolling && !v) {
                    var i, o, s = e(t, "pageX"), c = e(t, "pageY");
                    if (r.moveReady) {
                        t.preventDefault(),
                        i = s - r.basePageX,
                        o = r.currentX + i,
                        (o >= 0 || o < r._maxX) && (o = Math.round(r.currentX + i / 3)),
                        r.directionX = 0 === i ? r.directionX : i > 0 ? -1 : 1;
                        var l = !r._triggerEvent("fstouchmove", !0, !0, {
                            delta: i,
                            direction: r.directionX
                        });
                        l ? r._touchAfter({
                            moved: !1,
                            originalPoint: r.currentPoint,
                            newPoint: r.currentPoint,
                            cancelled: !0
                        }) : r._setX(o)
                    } else {
                        var h = a(r.startPageX, r.startPageY, s, c);
                        h.z > p && (u(h) > d ? (t.preventDefault(),
                        r.moveReady = !0,
                        r.element.addEventListener("click", r, !0)) : r.scrolling = !1)
                    }
                    r.basePageX = s
                }
            }
            ,
            t.prototype._touchEnd = function(t, e) {
                var n = this;
                if (n.element.removeEventListener(y.move[e], n, !1),
                document.removeEventListener(y.end[e], n, !1),
                n.scrolling) {
                    var r = -n.currentX / n._distance;
                    r = n.directionX > 0 ? Math.ceil(r) : n.directionX < 0 ? Math.floor(r) : Math.round(r),
                    r < 0 ? r = 0 : r > n._maxPoint && (r = n._maxPoint),
                    Math.abs(n.startPageX - n.basePageX) < n.threshold && (r = n.currentPoint),
                    n._touchAfter({
                        moved: r !== n.currentPoint,
                        originalPoint: n.currentPoint,
                        newPoint: r,
                        cancelled: !1
                    }),
                    n.moveToPoint(r)
                }
            }
            ,
            t.prototype._click = function(t) {
                t.stopPropagation(),
                t.preventDefault()
            }
            ,
            t.prototype._touchAfter = function(t) {
                var e = this;
                e.scrolling = !1,
                e.moveReady = !1,
                setTimeout(function() {
                    e.element.removeEventListener("click", e, !0)
                }, 200),
                e._triggerEvent("fstouchend", !0, !1, t)
            }
            ,
            t.prototype._setStyle = function(t) {
                var e = this
                  , n = e.element.style;
                for (var i in t)
                    r(n, i, t[i])
            }
            ,
            t.prototype._animate = function(t, e) {
                var n = this
                  , r = n.element
                  , i = +new Date
                  , o = parseInt(r.style.left, 10)
                  , s = t
                  , a = parseInt(e, 10)
                  , u = function(t, e) {
                    return -(t /= e) * (t - 2)
                };
                n.timerId && clearInterval(n.timerId),
                n.timerId = setInterval(function() {
                    var t, e, c = new Date - i;
                    c > a ? (clearInterval(n.timerId),
                    n.timerId = null,
                    e = s) : (t = u(c, a),
                    e = t * (s - o) + o),
                    r.style.left = e + "px"
                }, 10)
            }
            ,
            t.prototype.destroy = function() {
                var t = this;
                m.forEach(function(e) {
                    t.element.removeEventListener(y.start[e], t, !1)
                })
            }
            ,
            t.prototype._getTranslate = function(t) {
                var e = this;
                return e.use3d ? "translate3d(" + t + "px, 0, 0)" : "translate(" + t + "px, 0)"
            }
            ,
            t.prototype._triggerEvent = function(t, e, n, r) {
                var i = this
                  , o = document.createEvent("Event");
                if (o.initEvent(t, e, n),
                r)
                    for (var s in r)
                        r.hasOwnProperty(s) && (o[s] = r[s]);
                return i.element.dispatchEvent(o)
            }
            ,
            t
        })
    }
    , function(t, e) {
        "function" == typeof Object.create ? t.exports = function(t, e) {
            t.super_ = e,
            t.prototype = Object.create(e.prototype, {
                constructor: {
                    value: t,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            })
        }
        : t.exports = function(t, e) {
            t.super_ = e;
            var n = function() {};
            n.prototype = e.prototype,
            t.prototype = new n,
            t.prototype.constructor = t
        }
    }
    , function(t, e) {
        "use strict";
        function n() {
            return r || (r = window.location),
            r.origin || r.protocol + "//" + r.hostname + ("" !== r.port ? ":" + r.port : "")
        }
        var r;
        t.exports = {
            get: n
        }
    }
    , function(t, e) {
        (function(e) {
            function n(t) {
                if ("string" == typeof t)
                    return t;
                if (i(t))
                    return y ? y.call(t) : "";
                var e = t + "";
                return "0" == e && 1 / t == -a ? "-0" : e
            }
            function r(t) {
                return !!t && "object" == typeof t
            }
            function i(t) {
                return "symbol" == typeof t || r(t) && p.call(t) == u
            }
            function o(t) {
                return null == t ? "" : n(t)
            }
            function s(t) {
                var e = ++v;
                return o(t) + e
            }
            var a = 1 / 0
              , u = "[object Symbol]"
              , c = "object" == typeof e && e && e.Object === Object && e
              , l = "object" == typeof self && self && self.Object === Object && self
              , h = c || l || Function("return this")()
              , f = Object.prototype
              , v = 0
              , p = f.toString
              , d = h.Symbol
              , m = d ? d.prototype : void 0
              , y = m ? m.toString : void 0;
            t.exports = s
        }
        ).call(e, function() {
            return this
        }())
    }
    ])
});
